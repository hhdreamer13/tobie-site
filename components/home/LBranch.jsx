import React, { useLayoutEffect } from "react";
import gsap from "gsap";

const LBranch = ({ stopColor, animate }) => {
  useLayoutEffect(() => {
    let ctx = gsap.context(() => {
      animate &&
        gsap.fromTo(
          "#svgMaskL",
          {
            attr: { r: 0 },
          },
          {
            attr: { r: 300 },
            duration: 4,
            ease: "power4.Out",
            delay: 0.7,
          },
        );
    });
    return () => ctx.revert(); // cleanup
  }, []);

  return (
    <svg
      id="l-branch"
      data-name="Branch L"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 238.35 112.42"
      fill={stopColor}
    >
      <defs>
        <mask
          id="mask-l"
          maskUnits="userSpaceOnUse"
          maskContentUnits="userSpaceOnUse"
        >
          <circle
            id="svgMaskL"
            cx="-50"
            cy="-60"
            r={animate ? "0" : "300"}
            fill="white"
          />
        </mask>
      </defs>
      <path
        mask="url(#mask-l)"
        d="M140.9,6.32c.4,6.8,.4,6.9-3.2,10.1-1.9,1.8-3.8,4-4.1,5-.4,1.2-3,2.2-9.1,3.5-5.3,1.1-11.9,3.5-17.2,6.1-4.8,2.4-9.4,4.4-10.2,4.4-1.5,0-6.2-2.9-12.9-7.8l-3.3-2.5,7.8-7.8c4.3-4.3,7.6-8.1,7.3-8.3-.3-.3-4,3-8.3,7.3l-7.8,7.9-6.7-5.1c-3.6-2.8-10-6.6-14.1-8.6-6.7-3.2-8.5-3.6-17.2-3.9l-9.8-.4-1,2.7c-.5,1.4-1,2.9-1,3.3s3.6,.6,7.9,.4c8.9-.4,16.9,1.4,23.9,5.5,9,5.3,13.3,19,7.6,24.4-2,1.9-3.7,2.4-8.2,2.5-3.1,.1-9.8,1.3-14.9,2.7-6.6,1.8-12.9,2.7-23.3,3.2C7,51.82,.9,53.82,.3,58.42l-.3,2.5,2.3-2.8c2.9-3.4,7.3-4.7,16.5-4.7,6.1,0,7.3,.3,7.3,1.6,0,2.6-5.7,11.4-10.8,16.6-2.9,3-4,4.8-3.1,4.8,2.2,0,11.9-10.5,15.4-16.5,1.6-2.8,3-5.2,3.1-5.3,.4-.5,18.8-5.1,19.1-4.8,.4,.4-8.8,17.3-12.3,22.5-4.1,6.3-2.1,6,2.3-.3,2.1-3,4.3-5.5,4.9-5.6,2.1,0,9.2,8.8,10.5,12.9,1,3.4,.9,4.7-.5,8.5-1.6,4.1-9.8,13.6-11.7,13.6-1,0-4.9,8.3-4.9,10.5,0,1,1.2-.4,2.6-3.3s4.2-6.6,6.2-8.2l3.7-3,.8,5.2c1.2,8.5,2.8,8.3,2.1-.4-.6-6.8-.5-7.8,1.6-10.6,4.6-6.2,2.7-14.9-5.1-23l-4.2-4.2,1.7-4.4c.9-2.5,3.4-6.4,5.5-8.8,3.5-3.9,4.3-4.3,7.7-4,2.5,.2,5.3-.4,7.8-1.7,4.5-2.4,4.6-2.3,7.2,4.9,1.4,3.8,11.8,27.2,14.3,32,.4,.8,4.1,3.2,8.2,5.2,8.4,4.2,10.3,6.3,16,17,2.2,4.3,4.2,7.8,4.4,7.8,.5,0-1.1-5.4-2.5-8.1-.7-1.3-2.9-5-4.9-8.1-3.2-5.1-4.5-6.2-11.8-9.8s-8.3-4.5-9.3-7.8c-.7-2-2.3-5.7-3.6-8.1s-2.3-4.5-2.1-4.7c.7-.8,30,10.1,36.2,13.5,3.9,2.1,12.1,7.5,18.3,12.1,11.3,8.3,11.4,8.3,16.9,8.1,4.8-.2,6.7,.4,13.1,3.6,7.3,3.7,7.8,3.8,19.8,4.1,15.1,.4,20.1-.8,30.5-7.6,8.1-5.3,13.4-10.7,15.5-15.8,1.6-3.7,1.9-8.8,.5-8-.5,.3-.8,1.7-.8,3,0,3.6-4.6,10.9-9.5,15.1-2.4,2-7.6,5.3-11.7,7.3-7.4,3.7-7.6,3.7-21.5,4l-14.1,.3-8.5-4.1c-7.5-3.7-9.1-4.1-13.2-3.6-4.5,.6-5,.4-12.5-4.9-4.3-3.1-7.8-6.2-7.8-6.8,0-.8,2.4-1.2,7-1.3,3.9-.1,7.7-.2,8.5-.3,1.9-.1,13.3-7.1,12.7-7.8-.3-.2-3.4,1.2-7,3.2-5.9,3.2-7.1,3.6-11.2,2.9-2.7-.4-6.3-.1-9,.6-4.1,1.2-4.5,1.1-8.7-1.8-6.6-4.5-11.4-6.7-22.8-10.2-16.9-5.2-25-10.1-25-15.1,0-.9-1.5-4.7-3.4-8.4-2.8-5.5-3.2-7.3-2.6-10.1,.8-3.6-.3-9.9-2-10.9-1.3-.8-1.3-2.5-.1-2.5,.5,0,5.3,2.8,10.7,6.1,20.6,13,31.2,16.4,48.3,15.5,6.5-.3,11.9-1,12.5-1.7,.8-.8-.1-1-3.8-.4-9.2,1.3-20.8,.7-27.1-1.3-8.2-2.7-12.5-4.5-12.5-5.3,0-1.1,17.4-8.8,23.5-10.4,8.7-2.3,19.6-3,22.5-1.5,1.5,.8,8.8,1.5,18.9,1.9,16.2,.7,16.7,.8,21.7,3.8,2.7,1.6,6.6,3.5,8.5,4.1,5.2,1.6,13.9,2.5,13.9,1.4,0-.5-2.6-1.2-5.7-1.6-5.8-.7-23.3-8-23.3-9.8,0-1.9,13.1-6.8,24.8-9.2,14.2-3,18.6-3.2,26.7-1.1,8.5,2.3,9.2,1.2,.8-1.3-7.8-2.4-13.8-2.7-19.6-1.1-2,.5-7.5,1.6-12.2,2.4-6.7,1.1-10.4,2.4-17.2,6.1-7.8,4.2-9.6,4.8-16.3,5.2-5.5,.3-9.7-.2-15.7-1.7-4.5-1.2-10.3-2.1-13-2.1l-4.8-.1,5-4.5c7.9-7.2,20.2-12.4,29.2-12.4,1.8,0,3.3-.5,3.3-1,0-2.9-14.5,.7-27.4,6.8-.5,.3-.7-.2-.3-1.1,.5-1.4-1.2-8.9-2.3-10.1-.3-.3-.4,2.6-.2,6.3Z"
      />
    </svg>
  );
};

export default LBranch;
